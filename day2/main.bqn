strings â† â€¢Import "bqn-libs/strings.bqn"

ToNat â† 10âŠ¸Ã—âŠ¸+ËœÂ´âˆ˜âŒ½-âŸœ'0'

# From the problem statement.
colors â† âŸ¨ "red", "green", "blue" âŸ©
maxCubes â† âŸ¨ âŸ¨ "red", 12 âŸ©, âŸ¨ "green", 13 âŸ©, âŸ¨ "blue", 14 âŸ© âŸ©

# Incredibly ugly way to implement a dictionary (there must be a better wayâ€¦).
DictGet â† { 1âŠ‘ âŠ‘ (ğ•©â‰¡âŠ‘)Â¨ âŠ¸/ ğ•¨ }

ParseLine â† {
  idâ€¿desc â† ": " strings.Split ğ•©
  âŸ¨ ToNat 5 â†“ id, ToNatâŒ¾âŠ‘Â¨ " "âŠ¸strings.SplitÂ¨ âˆ¾ ", "âŠ¸strings.SplitÂ¨ "; " strings.Split desc âŸ©
}

Part1 â† {
  idâ€¿plays â† ParseLine ğ•©
  id Ã— âˆ§Â´ âŠ‘âŠ¸â‰¤âŸœ(maxCubes DictGet 1âŠ¸âŠ‘)Â¨ plays
}

Part2 â† {
  idâ€¿plays â† ParseLine ğ•©
  Ã—Â´ { âŒˆÂ´ âŠ‘Â¨ ğ•©âŠ¸â‰¡âŸœ(1âŠ¸âŠ‘)Â¨ âŠ¸/ plays }Â¨ colors
}

lines â† â€¢file.Lines "input.txt"
â€¢Show +Â´ Part1Â¨ lines
â€¢Show +Â´ Part2Â¨ lines

# Day 1, part 1 solution:
# +Â´ ((10Ã—âŠ‘)+(âŠ‘âŒ½))Â¨ (âˆŠâŸœ(â†•10))âŠ¸/Â¨ -âŸœ'0'
